/*!CK:3312249941!*//*1448264972,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["IlS5R"]); }

__d('ReactComposerAudienceAlignment',['ReactComposerActions','ReactComposerEvents','ReactComposerStatusStore','ReactComposerAudienceStore','Arbiter','AsyncRequest','AudienceSelector','ContextualDialog','CSS','cx','DialogExpansion','DOM','Event','Focus','Keys','ModalMask','PrivacyConst','SelectorDeprecated','Style','XPrivacyAudienceAlignmentLoggingController','csx','curry','ge'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){if(c.__markCompiled)c.__markCompiled();var ea=false,fa,ga,ha,ia=200;function ja(nb,ob){nb.setContext(ob);nb.show();}function ka(nb,ob){var pb=z.get(ob.getContentRoot(),'margin-top');nb.setWidth(this.aaa_dialog_width);nb.show();z.set(nb.getContentRoot(),'margin-top',pb);}var la='wwwtux',ma='onlyme-wwwtux',na='exposed',oa='public_sticky',pa='friends_sticky',qa='only_me_sticky',ra='custom_selection',sa='selector',ta='holdout',ua='dismissal',va='learn_more',wa='blur',xa='posted';function ya(nb,event,ob){var pb=aa.getURIBuilder().setEnum('product',nb).setEnum('event',event).setInt('client_time',Date.now());ha&&pb.setFloat('shown_duration',(Date.now()-ha)/1000);ob&&pb.setInt('value',ob);var qb=new m().setURI(pb.getURI());qb.send();}function za(nb,ob,pb,qb,rb){if(ea)return false;if(j.hasText(pb))return false;if(!qb)return false;var sb=null;if(rb){sb=rb.getSelectedBaseValue();}else sb=parseInt(y.getValue(qb),10);return sb===nb;}function ab(){var nb=s.scry(document.body,'#pagelet_timeline_recent');if(nb.length>=1){var ob=s.scry(nb[0],'li.fbTimelineComposerCapsule');if(ob.length>=1)return ob[0];}return null;}function bb(nb,ob,pb,qb){var rb;if(qb){rb=qb.getMenuElement();}else{var sb=s.find(pb,'div.audienceSelector');rb=s.scry(sb,'div.wrap');}if(rb.length<1)return;var tb=ab(),ub;if(qb){qb.subscribeOnce('open',function(){if(tb)p.addClass(tb,"_2wc-");o.setContext(ob,rb);ob.show();});}else ub=y.listen(sb,'open',function(){var xb=s.scry(rb[0],'div.uiSelectorMenuWrapper');if(xb.length>0){if(tb)p.addClass(tb,"_2wc-");o.setContext(ob,xb[0]);ob.setOffsetX(12);ob.show();}else w.hide();y.unsubscribe(ub);});if(qb){qb.getPopover().subscribeOnce('hide',function(){cb(ob,rb,tb,nb);});}else var vb=y.listen(sb,'close',function(){cb(ob,rb[0],tb,nb);y.unsubscribe(vb);});if(qb){p.addClass(rb,"_35mn");var wb=qb.getTriggerButtonElement();p.addClass(wb,"_35mn");}else p.addClass(rb[0],"_35mn");setTimeout(function(){w.show();z.set(w.getNode(),'opacity','0.3');z.set(w.getNode(),'background-color','rgb(0,0,0)');if(qb){qb.openSelectorExpanded();}else y.toggle(sb);},20);}function cb(nb,ob,pb,qb){w.hide();nb.hide();p.removeClass(ob,"_35mn");if(pb)p.removeClass(pb,"_2wc-");db(qb);}function db(nb){var ob=s.scry(nb,"._5yk2").pop();ob&&u.set(ob);}function eb(nb,ob,pb,qb){nb.unsubscribe(ga);nb.hide();db(pb);l.subscribeOnce(i.POST_STARTED+ob,function(){ya(qb,xa);});}function fb(nb){return k.getAudienceElement(nb);}function gb(nb){return k.getAudienceInstance(nb);}function hb(nb,ob,pb,qb,rb,sb){var tb=fb(nb),ub=gb(nb),vb=kb(qb),wb=jb(qb);if(vb===null||!wb)return;eb(pb,nb,ob,sb);if(ub){ub.selectOption(vb);}else n.setAudience(ob,qb);h.setAudience(nb,vb,qb);ja(rb,tb);ya(sb,wb);}function ib(nb){switch(nb){case x.BaseValue.EVERYONE:return la;case x.BaseValue.SELF:return ma;default:return null;}}function jb(nb){switch(nb){case x.BaseValue.EVERYONE:return oa;case x.BaseValue.ALL_FRIENDS:return pa;case x.BaseValue.SELF:return qa;default:return null;}}function kb(nb){switch(nb){case x.BaseValue.EVERYONE:return x.PostParam.EVERYONE;case x.BaseValue.ALL_FRIENDS:return x.PostParam.FRIENDS;case x.BaseValue.SELF:return x.PostParam.ONLY_ME;default:return null;}}function lb(nb,ob,pb,qb,rb,sb,tb){var ub=k.getAudienceElement(sb)!=null;if(!ub){setTimeout(function(){return lb(nb,ob,pb,qb,rb,sb,tb);},ia);return;}var vb=fb(sb),wb=gb(sb);if(za(nb,pb,sb,vb,wb)){ha=Date.now();if(ob){ya(tb,ta);}else{ya(tb,na);setTimeout(function(){qb.show();var xb=rb.parentElement;this.aaa_dialog_width=qb.getWidth()+xb.offsetWidth-490;var yb=new r(qb);yb.setTargetWidth(this.aaa_dialog_width);yb._onAfterShow();u.set(qb.getRoot());},100);}}}var mb={abort:function(){ea=true;},startOnComposerFocus:function(nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,ac,bc,cc,dc,ec,fc){pb=da(fc);if(!pb)return;var gc=ib(nb);if(!gc)return;l.subscribeOnce(i.MENTION_INPUT_FOCUS+fc,function(){lb(nb,ob,pb,qb,yb,fc,gc);});t.listen(yb,'click',ca(hb,fc,pb,qb,xb,rb,gc));t.listen(ac,'click',ca(hb,fc,pb,qb,zb,sb,gc));t.listen(bc,'click',function(){qb.subscribe('hide',function(){var hc=fb(fc),ic=gb(fc);if(ic)ic.subscribeOnce('changed',function(event,jc){ya(gc,ra,jc.base_value);});if(tb)bb(pb,tb,hc,ic);});eb(qb,fc,pb,gc);ya(gc,sa);});if(cc)t.listen(cc,'click',function(){var hc=fb(fc);eb(qb,fc,pb,gc);ya(gc,ua);if(ub)ja(ub,hc);});ga=qb.subscribe('hide',function(){var hc=fb(fc);db(pb);ya(gc,ua);if(vb)ja(vb,hc);});fa=qb.subscribe('blur',function(){ya(gc,wa);});t.listen(dc,'click',function(event){ka(wb,qb);ya(gc,va);});t.listen(ec,'click',function(event){wb.hide();});if(cc)t.listen(wb.getRoot(),'keydown',function(event){if(t.getKeyCode(event)===v.ESC){wb.hide();t.kill(event);}});}};f.exports=mb;},null);
__d("XStickyGuardrailLoggingController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/privacy\/sticky_guard\/log\/",{client_time:{type:"Int",required:true},event:{type:"Enum",required:true,enumType:1},from_privacy:{type:"String"},product:{type:"Enum",required:true,enumType:1},suggestion:{type:"String",required:true},suggestion_id:{type:"Int",required:true},is_only_me_guardrail:{type:"Bool",defaultValue:false},num_times_seen:{type:"Int"},source:{type:"Enum",enumType:1},local_hour_time:{type:"Int"},features:{type:"String"},is_from_react:{type:"Int"},run_mode:{type:"Enum",enumType:0}});},null);
__d('ReactComposerStickyGuardrail',['Arbiter','ReactComposerAudienceStore','ReactComposerEvents','AsyncRequest','AudienceSelector','DOM','Event','Focus','XStickyGuardrailLoggingController','csx','ge','tidyEvent'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t,u=false,v='client_seen',w='no_audience_error',x='no_cancel_error',y='no_change_error',z='no_textarea_error',aa='declined',ba='dismissed',ca='converted',da='www_composer',ea=200;function fa(la,ma,na,oa,pa,qa,ra,sa){var ta=p.getURIBuilder().setEnum('event',la).setInt('client_time',Date.now()).setEnum('product',da).setString('from_privacy',ma).setString('suggestion',na).setInt('suggestion_id',oa).setBool('is_only_me_guardrail',pa).setInt('num_times_seen',qa).setInt('local_hour_time',new Date().getHours()).setString('features',ra).setInt('is_from_react',1).setEnum('run_mode',sa).getURI(),ua=new k().setURI(ta);ua.send();}function ga(la,ma,na,oa){if(oa){oa.selectOption(ma);}else l.setAudience(na,la);}function ha(la,ma){la.unsubscribe(t);la.hide();o.set(ma);}function ia(la){return la?la.getSelectedPostParam():null;}function ja(la,ma,na,oa,pa,qa,ra,sa,ta){var ua=i.getAudienceElement(ma)!==null;if(!ua){setTimeout(function(){return ja(la,ma,na,oa,pa,qa,ra,sa,ta);},ea);return;}if(u)return;var va=i.getAudienceInstance(ma),wa=i.getAudienceElement(ma);if(!wa){fa(w,ia(va),oa,pa,qa,ra);return;}var xa=m.scry(r(ma),"._5yk2").pop(),ya=r('guardrail_cancel',la.getContentRoot()),za=r('guardrail_change',la.getContentRoot());if(!ya){fa(x,ia(va),oa,pa,qa);return;}if(!za){fa(y,ia(va),oa,pa,qa,ra);return;}if(!xa){fa(z,ia(va),oa,pa,qa,ra);return;}s(n.listen(za,'click',function(ab){ha(la,xa);fa(ca,ia(va),oa,pa,qa,ra,sa,ta);ga(na,oa,wa,va);}));s(n.listen(ya,'click',function(ab){ha(la,xa);fa(aa,ia(va),oa,pa,qa,ra,sa,ta);}));t=la.subscribe('hide',function(){ha(la,xa);fa(ba,ia(va),oa,pa,qa,ra,sa,ta);});la.setContext(wa);la.show();fa(v,ia(va),oa,pa,qa,ra,sa,ta);}var ka={abort:function(){u=true;},initComposerFlyout:function(la,ma,na,oa,pa,qa,ra,sa,ta){h.subscribeOnce('composerprivacy/aborteducation',this.abort.bind(this));h.subscribeOnce(j.MENTION_INPUT_FOCUS+ma,function(){ja(la,ma,na,oa,pa,qa,ra,sa,ta);});}};f.exports=ka;},null);
__d('ReactComposerAudienceActions',['ReactComposerAudienceActionTypes','ReactComposerDispatcher','ReactComposerAudienceStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerAudienceStore');var j={setAudience:function(k,l,m){i.dispatch({composerID:k,type:h.SET_AUDIENCE,audience:l,legacyAudience:m});},setAudienceElement:function(k,l){i.dispatch({composerID:k,type:h.SET_AUDIENCE_ELEMENT,audienceElement:l});},setAudienceInstance:function(k,l){i.dispatch({composerID:k,type:h.SET_AUDIENCE_INSTANCE,audienceInstance:l});},setPrivacyxNullDangerous:function(k,l){i.dispatch({composerID:k,type:h.SET_PRIVACYX_NULL_DANGEROUS,privacyxNullDangerous:l});}};f.exports=j;},null);
__d('ReactComposerAudienceInit',['ReactComposerAudienceActions'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={init:function(j,k){h.setAudienceInstance(j,k.audienceInstance);if(k.privacyx)h.setAudience(j,k.privacyx);}};f.exports=i;},null);