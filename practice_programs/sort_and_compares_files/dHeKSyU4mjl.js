/*!CK:3346726303!*//*1448853691,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["OHK2H"]); }

__d("BOFSellerLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ACTN_MERCHANT_SETTINGS_CREATED:"Actn_MerchantSettingsCreated",ACTN_COMMERCE_STORE_CREATED:"Actn_CommerceStoreCreated",ACTN_PRODUCT_GROUP_CREATED:"Actn_ProductGroupCreated",ACTN_PRODUCT_ITEM_CREATED:"Actn_ProductItemCreated",ACTN_STORE_COLLECTION_CREATED:"Actn_StoreCollectionCreated",ACTN_MERCHANT_SETTINGS_UPDATED:"Actn_MerchantSettingsUpdated",ACTN_COMMERCE_STORE_UPDATED:"Actn_CommerceStoreUpdated",ACTN_PRODUCT_GROUP_UPDATED:"Actn_ProductGroupUpdated",ACTN_PRODUCT_ITEM_UPDATED:"Actn_ProductItemUpdated",ACTN_STORE_COLLECTION_UPDATED:"Actn_StoreCollectionUpdated",ACTN_STORE_COLLECTION_UPDATE_ORDERS:"Actn_StoreCollectionUpdateOrders",ACTN_COMMERCE_STORE_DELETED:"Actn_CommerceStoreDeleted",ACTN_STORE_COLLECTION_DELETED:"Actn_StoreCollectionDeleted",ACTN_PRODUCT_ITEM_DELETED:"Actn_ProductItemDeleted",ACTN_PRODUCT_ITEM_FEATURED:"Actn_ProductItemFeatured",ACTN_PRODUCT_ITEM_UNFEATURED:"Actn_ProductItemUnfeatured",ACTN_OFFER_CREATE:"Actn_OfferCreate",ACTN_ORDER_CANCELED:"Actn_OrderCanceled",ACTN_ORDER_CONTACT_BUYER:"Actn_OrderContactBuyer",ACTN_ORDER_REFUNDED:"Actn_OrderRefunded",ACTN_ORDER_SHIP:"Actn_OrderShip",ACTN_ORDER_VIEW:"Actn_OrderView",IMP_CURRENCY_SELECTION:"Imp_CurrencySelection",ACTN_CANCEL_CURRENCY_SELECTION:"Actn_CancelCurrencySelection",ACTN_ADD_PRODUCT_CLICK:"Actn_AddProductClick",ACTN_EDIT_PRODUCT_CLICK:"Actn_EditProductClick",ACTN_CANCEL_ADD_PRODUCT:"Actn_CancelAddProduct",ACTN_CANCEL_EDIT_PRODUCT:"Actn_CancelEditProduct",ACTN_SETTINGS_DROPDOWN_CLICK:"Actn_SettingsDropdownClick",ACTN_SETTINGS_DROPDOWN_SHARE_CLICK:"Actn_SettingsDropdownShareClick",ACTN_SETTINGS_DROPDOWN_COPY_CLICK:"Actn_SettingsDropdownCopyClick",IMP_PRIVATE_MESSAGE_SELECTION:"Imp_PrivateMessageSelection",ACTN_PRIVATE_MESSAGE_BACK_CLICK:"Actn_PrivateMessageBackClick",IMP_ONBOARDING_VIEW:"Imp_OnboardingView",ACTN_SAVE_ONBOARDING_VIEW:"Actn_SaveOnboardingView",IMP_SETTINGS_VIEW:"Imp_SettingsView",ACTN_UPDATE_SETTINGS:"Actn_UpdateSettings",ACTN_NUX_SEEN:"Actn_NuxSeen",ACTN_APPROVED_PRODUCT_ITEM_SHARED:"Actn_ApprovedProductItemShared",ACTN_STORE_CREATION_NOTIF_SENT:"Actn_StoreCreationNotifSent",ACTN_EDIT_PHOTO_CLICK:"Actn_EditPhotoClick",ACTN_PHOTO_EDITED:"Actn_PhotoEdited"};},null);
__d("BOFSellerLoggingSources",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={ADD_SECTION:"AddSection",FINISH_SETUP_BANNER:"FinishSetupBanner",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect"};},null);
__d("CommerceProductVariantType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SIZE:"Size",COLOR:"Color",MATERIAL:"Material",LENGTH:"Length",FIT:"Fit",WIDTH:"Width",SCENT:"Scent",FLAVOR:"Flavor",MODEL:"Model",FORMAT:"Format",PLATFORM:"Platform",EDITION:"Edition"};},null);
__d("CommerceSelfServeProductTaxCategories",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:4900000,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:4.9e+07,TAX_ITEM_CODE_COMMERCE_CLOTHING:53100000,TAX_ITEM_CODE_COMMERCE_SHOES:53110000,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:53120000,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:53130000,TAX_ITEM_CODE_COMMERCE_JEWELRY:54100000,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1};},null);
__d("CommerceSelfServeSection",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",PRODUCT_VISIBILITY:"product_visibility",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",PHOTO_EDITOR:"photo_editor"};},null);
__d("CommerceSelfServeUI",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5};},null);
__d("CommerceUI",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_ITEMS_IN_QUANTITY_SELECTOR:9,MAX_VARIANTS:4};},null);
__d("PageContentTabTabs",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMMERCE_PRODUCTS:"COMMERCE_PRODUCTS",COMMERCE_COLLECTIONS:"COMMERCE_COLLECTIONS",COMMERCE_PENDING_ORDERS:"COMMERCE_PENDING_ORDERS",COMMERCE_PAST_ORDERS:"COMMERCE_PAST_ORDERS",COMMERCE_MERCHANT_SETTINGS:"COMMERCE_MERCHANT_SETTINGS",COMMERCE_SHOP_LINK:"COMMERCE_SHOP_LINK",DONATIONS_SETTINGS:"DONATIONS_SETTINGS",DRAFTS:"DRAFTS",EXPIRED_POSTS:"EXPIRED_POSTS",EXPIRING_POSTS:"EXPIRING_POSTS",INSTANT_ARTICLES:"INSTANT_ARTICLES",INSTANT_ARTICLES_DEVELOPMENT:"INSTANT_ARTICLES_DEVELOPMENT",LEAD_ADS_FORMS:"LEAD_ADS_FORMS",PUBLISHED_POSTS:"PUBLISHED_POSTS",SCHEDULED_POSTS:"SCHEDULED_POSTS",ADS_POSTS:"ADS_POSTS",VIDEOS:"VIDEOS",JOB_POSTS:"JOB_POSTS",VIDEOS_COPYRIGHT:"VIDEOS_COPYRIGHT",REPORTED:"REPORTED",UNSENT_REPORTS:"UNSENT_REPORTS",ALLOWED:"ALLOWED",NON_MATCHES:"NON_MATCHES",ACTIVE_FUNDRAISERS:"ACTIVE_FUNDRAISERS",DRAFT_FUNDRAISERS:"DRAFT_FUNDRAISERS",READY_FUNDRAISERS:"READY_FUNDRAISERS",ENDED_FUNDRAISERS:"ENDED_FUNDRAISERS",ADS_CANVAS:"ADS_CANVAS",REFERENCE_LIBRARY:"REFERENCE_LIBRARY"};},null);
__d("PagesManagerProductToolsConstants",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={MAX_FEATURED_ITEM_COUNT:10};},null);
__d("PhotoEditorTargetType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER:"composer",COMMENT:"comment",PAGE_PRODUCT_COMPOSER:"page_product_composer"};},null);
__d("ProductVisibility",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published"};},null);
__d("XCommerceSelfServeParam",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",ADDRESS:"address",STREET_1:"street1",CITY:"city",STATE:"region",ZIP:"postalCode",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",SETTINGS_ID:"settings_id",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CURRENCY_CODE:"currency_code",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_PRICE:"product_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map"};},null);
__d('AdsNumberInput.react',['AdsTextInput.react','React','cx','fbt','intlNumUtils','joinClasses','mergeDeep'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=i.PropTypes,p=i.createClass({displayName:'AdsNumberInput',propTypes:{errors:o.object,prefix:o.string,suffix:o.string,value:o.number,onChange:o.func.isRequired},getInitialState:function(){return {focused:false,formatError:false};},render:function(){var q=this.props.errors||{};if(this.state.formatError)q=n(q,{NON_NUMERIC_INPUT:k._("This input can only contain numbers")});var r=this.props.value;if(r!=null)r=l.formatNumber(r);if(r&&!this.state.focused){var s=this.props.prefix||'',t=this.props.suffix||'';r=s+r+t;}var u="_x62";return (i.createElement(h,babelHelpers._extends({},this.props,{className:m(this.props.className,u),errors:q,value:r,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onImmediateChange:this._onImmediateChange})));},_onBlur:function(){this.setState({focused:false,formatError:false});},_onChange:function(q){var r=this._findFirstInvalidCharacter(q);if(r>=0)q=q.substring(0,r);this.props.onChange(l.parseNumber(q));},_onFocus:function(){this.setState({focused:true});},_onImmediateChange:function(q){var r=this._findFirstInvalidCharacter(q),s=r>=0;this.setState({formatError:s});},_findFirstInvalidCharacter:function(q){return q.search(/[^0-9\,\.\ ]/);}});f.exports=p;},null);
__d('Text.atlas',['React','ReactComponentWithPureRenderMixin','Typography.atlas','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m='inline',n='block',o=h.createClass({displayName:'Text',propTypes:{display:l.oneOf([m,n]).isRequired,color:l.oneOf(j.Colors),size:l.oneOf(j.Sizes),weight:l.oneOf(j.Weights)},getDefaultProps:function(){return {display:m};},mixins:[i],render:function(){var p=this.props,q=p.color,r=p.size,s=p.weight,t=babelHelpers.objectWithoutProperties(p,['color','size','weight']),u=k(this.props.className,j.getClassName(r,s,q));if(this.props.display===n)return (h.createElement('div',babelHelpers._extends({},t,{className:u}),this.props.children));return (h.createElement('span',babelHelpers._extends({},t,{className:u}),this.props.children));}});f.exports=o;},null);
__d('CheckboxInput.atlas',['React','ReactComponentWithPureRenderMixin','Typography.atlas','XUICheckboxInput.react','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=h.PropTypes,o=h.createClass({displayName:'CheckboxInput',propTypes:{disabled:n.bool.isRequired,onChange:n.func.isRequired,label:n.node,labelWeight:n.oneOf(j.Weights),tooltip:n.string,value:n.bool},getDefaultProps:function(){return {disabled:false};},mixins:[i],_onChange:function(event){var p=event.target;this.props.onChange(!!p.checked,event);},render:function(){var p=h.createElement(k,{checked:this.props.value,className:"_2xpe"+(!!this.props.label?' '+"_42cx":''),disabled:this.props.disabled,id:this.props.id,onChange:this._onChange,tooltip:this.props.tooltip}),q="_5u-3";if(!this.props.label)return h.cloneElement(p,{className:m(this.props.className,q,p.props.className)});var r=this.props.disabled?'light':'dark',s=this.props.labelWeight||'regular';return (h.createElement('label',{className:m(this.props.className,j.getClassName('s',s,r,'text'),q)},p,this.props.label?h.createElement('span',{className:"_40q9"},this.props.label):null));}});f.exports=o;},null);
__d('FormBinding.atlas',['underscore.ads'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j){this.$FormBinding1=j.error||null;this.$FormBinding2=j.warning||null;this.$FormBinding3=j.success||null;this.$FormBinding4=j.actions;this.$FormBinding5=j.fieldName;this.$FormBinding6=j.formID;var k=j.value;this.value=k instanceof Date?new Date(k):h.clone(k);}i.prototype.getError=function(){return this.$FormBinding1;};i.prototype.getErrorMessage=function(){var j=this.getError();return j?j.text:null;};i.prototype.getWarning=function(){return this.$FormBinding2;};i.prototype.getWarningMessage=function(){var j=this.getWarning();return j?j.warningText:null;};i.prototype.getSuccess=function(){return this.$FormBinding3;};i.prototype.getSuccessMessage=function(){var j=this.getSuccess();return j?j.text:null;};i.prototype.update=function(j){this.$FormBinding7(j);this.validate();};i.prototype.updateWithoutValidation=function(j){this.$FormBinding7(j);};i.prototype.validate=function(){this.$FormBinding4.validateAllEditedFields(this.$FormBinding6);};i.prototype.$FormBinding7=function(j){this.$FormBinding4.updateFieldValue(this.$FormBinding6,this.$FormBinding5,j);};f.exports=i;},null);
__d('FormatNumberUtil.atlas',['NumberFormatConfig','intlNumUtils'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={_getDecimals:function(k,l,m){if(!l&&!m){var n=k.toString(),o=n.split(h.decimalSeparator);return o.length===2?o[1].length:0;}if(k===0)return l;var p=Math.floor(k*Math.pow(10,m)),q=m,r=10;while(q>l&&p>1)if(p%r===0){r*=10;--q;}else break;return q;},formatWithVariablePrecision:function(k,l,m,n){if(n)return i.formatNumberWithThousandDelimiters(k,j._getDecimals(k,l,m));return i.formatNumberRaw(k,j._getDecimals(k,l,m));}};f.exports=j;},null);
__d('TextInput.atlas',['AbstractTextInput.react','React','ReactComponentWithPureRenderMixin','cx','invariant','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m){'use strict';if(c.__markCompiled)c.__markCompiled();var n=i.PropTypes,o=i.createClass({displayName:'TextInput',propTypes:{onChange:n.func.isRequired,disabled:n.bool,max:n.string,min:n.string,placeholder:n.string,onFocus:n.func,onBlur:n.func,onKeyDown:n.func,onKeyUp:n.func,onPaste:n.func,type:n.string,value:n.string},mixins:[j],_onChange:function(event){var p=event.target.value;this.props.onChange(p);},focusInput:function(){this.refs&&this.refs.textField.focusInput();},render:function(){var p=m(this.props.className,"_q-i"+(!!this.props.disabled?' '+"_2rq7":''));!(this.props.type!=='number'||!this.props.value||!isNaN(this.props.value))?l(0):undefined;return (i.createElement(h,{className:p,'data-testid':this.props['data-testid'],disabled:this.props.disabled,max:this.props.max,min:this.props.min,onBlur:this.props.onBlur,onChange:this._onChange,onFocus:this.props.onFocus,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,onPaste:this.props.onPaste,placeholder:this.props.placeholder,ref:'textField',type:this.props.type,value:this.props.value}));}});f.exports=o;},null);
__d('NumberInput.atlas',['FormatNumberUtil.atlas','ads-lib-formatters','Keys','NumberFormatConfig','React','ReactComponentWithPureRenderMixin','TextInput.atlas'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o=l.PropTypes,p=l.createClass({displayName:'NumberInput',propTypes:{isZeroValidValue:o.bool.isRequired,minPrecision:o.number.isRequired,maxPrecision:o.number.isRequired,disabled:o.bool,onBlur:o.func,onFocus:o.func,onKeyUp:o.func,onValueUpdated:o.func,value:o.number},getDefaultProps:function(){return {isZeroValidValue:false,maxPrecision:0,minPrecision:0};},mixins:[m],getInitialState:function(){return {dirtyValue:null};},_onChange:function(q){if(this._isInputValid(q)){this.setState({dirtyValue:q});var r=this._parseValue(q);if(this.props.onValueUpdated)this.props.onValueUpdated(r);}},_onBlur:function(event){this.setState({dirtyValue:null});if(this.props.onBlur)this.props.onBlur(event);},_onFocus:function(event){this.setState({dirtyValue:null});if(this.props.onFocus)this.props.onFocus(event);},_isInputValid:function(q){var r=new RegExp('^[0-9.,]*$');return r.test(q);},_parseValue:function(q){return i.parseNumber(q)||0;},_onKeyUp:function(event){var q=event.keyCode;if(q===j.RETURN||q===j.TAB)this.setState({dirtyValue:null});if(this.props.onKeyUp)this.props.onKeyUp(event);},render:function(){var q=undefined,r=this.props.minPrecision;if(this.state.dirtyValue===null){q=this.props.value;if(!q)q=this.props.isZeroValidValue?0:null;q=q===null?'':h.formatWithVariablePrecision(q,r,this.props.maxPrecision,false).toString();}else q=this.state.dirtyValue;var s=Array(r+1).join('0'),t=r?'0'+k.decimalSeparator+s:'0';return (l.createElement(n,{className:this.props.className,disabled:this.props.disabled,onBlur:this._onBlur,onChange:this._onChange,onFocus:this._onFocus,onKeyUp:this._onKeyUp,placeholder:t,value:q}));}});f.exports=p;},null);
__d('CurrencyInput.atlas',['Currency','FormBinding.atlas','NumberInput.atlas','React','ReactComponentWithPureRenderMixin','Text.atlas','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=k.PropTypes,q=k.createClass({displayName:'CurrencyInput',propTypes:{isBold:p.bool.isRequired,isZeroValidValue:p.bool.isRequired,currency:p.string,disabled:p.bool,onBlur:p.func,onChange:p.func,onFocus:p.func,onKeyUp:p.func,minPrecision:p.number,maxPrecision:p.number,value:p.number},getDefaultProps:function(){return {isBold:false,isZeroValidValue:false};},mixins:[l],render:function(){var r=this.props.value;if(!r)r=this.props.isZeroValidValue?0:null;var s=null,t=null;if(this.props.currency){s=k.createElement(m,{className:"_3mef"+(r===null?' '+"_35ka":'')},h.getSymbol(this.props.currency));t="_35kc"+(this.props.isBold?' '+"_g9l":'');}return (k.createElement('div',{className:o(this.props.className,t)},k.createElement(j,{disabled:this.props.disabled,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,onValueUpdated:this.props.onChange,value:r}),s));}});q.FormWrapper=k.createClass({displayName:'FormWrapper',propTypes:{binding:p.instanceOf(i).isRequired,isZeroValidValue:p.bool.isRequired,currency:p.string,minPrecision:p.number,maxPrecision:p.number},getDefaultProps:function(){return {isZeroValidValue:false};},mixins:[l],_onChange:function(r){this.props.binding.update(r);},render:function(){return (k.createElement(q,{className:this.props.className,currency:this.props.currency,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onChange:this._onChange,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,value:this.props.binding.value}));}});f.exports=q;},null);
__d("XStripeConnectBOFController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/payment\/bof\/stripeconnect\/",{page_id:{type:"Int",required:true}});},null);
__d('CommerceExceptionHandlerMixin.react',['AsyncRequest','CommerceErrorCode','CommerceErrorNotice.react','CommerceStripeConnectLink.react','React','URI','XCommerceResponse','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p={getInitialState:function(){return {xResponse:null};},sendAsync:function(q,r,s,t){new h(q).setData(r||{}).setHandler((function(u){var v=new n(u.payload);this.setState({xResponse:v});if(!v.hasErrors()){s&&s(u);}else t&&t(u);}).bind(this)).setErrorHandler((function(u){this.setGeneralError(i.COMMERCE__GENERIC_EXCEPTION);t&&t(u);}).bind(this)).send();},setGeneralError:function(q){var r=this.state.xResponse?this.state.xResponse:new n({});r.setGeneralError(q);this.setState({xResponse:r});},addFieldError:function(q,r){var s=this.state.xResponse?this.state.xResponse:new n({});s.addFieldError(q,r);this.setState({xResponse:s});},_getFullErrorMessage:function(q){if(!q)return null;if(q.code.toString()===i.COMMERCE__STRIPE_DEFERRED_ACCOUNT_EMAIL_USED.code.toString()){var r=o._("connect your shop with an existing account");return o._("A Stripe account with this email address already exists. Please use a different email address or {connect to a different Stripe account link}.",[o.param('connect to a different Stripe account link',l.createElement(k,{pageID:this.props.pageID,content:r}))]);}return q.title+': '+q.message;},hasErrors:function(){return !!this.state.xResponse&&this.state.xResponse.hasErrors();},hasGeneralError:function(){return !!this.state.xResponse&&this.state.xResponse.hasGeneralError();},hasFieldErrors:function(){return !!this.state.xResponse&&this.state.xResponse.hasFieldErrors();},renderAllErrors:function(){if(!this.hasErrors())return null;var q=this.state.xResponse,r=[];if(this.hasFieldErrors()){var s=q.getFieldErrors();for(var t in s)r.push(l.createElement('li',null,this._getFullErrorMessage(s[t])));}if(this.hasGeneralError()){var u=q.getGeneralError();if(u)r.push(l.createElement('li',null,this._getFullErrorMessage(u)));}if(r.length==0)return null;var v=l.createElement('ul',null,r);return l.createElement(j,{error:v});},renderGeneralError:function(){if(!this.hasGeneralError())return null;var q=this.state.xResponse,r=q.getGeneralError();if(!r)return null;return l.createElement(j,{error:this._getFullErrorMessage(r)});},getFieldErrorMessage:function(q){if(!this.hasFieldErrors())return null;return this._getFullErrorMessage(this.state.xResponse.getFieldErrors()[q]);}};f.exports=p;},null);
__d('BOFSellerLogger',['BanzaiLogger'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i='BOFSellerLoggerConfig',j={log:function(k,l,m){m.event=k;m.seller_profile_id=l;h.log(i,m);}};f.exports=j;},null);
__d('CommerceSelfServeProductTaxRatesTable.react',['AdsNumberInput.react','CheckboxInput.atlas','CommerceUSAStates','Image.react','React','TextInput.atlas','XUIButton.react','XUITable.react','cx','fbt','invariant','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=l.PropTypes,u=l.createClass({displayName:'CommerceSelfServeProductTaxRatesTable',propTypes:{taxRates:t.object.isRequired,onChangeTaxRates:t.func.isRequired},getInitialState:function(){return {newRateLocationError:false,newTaxRateLocation:'',newTaxRatePercentage:0,newIsAppliedToShipping:false,showNewRateRow:false};},render:function(){var v=[];for(var w in this.props.taxRates){var x=this.props.taxRates[w];for(var y in x)v[v.length]=this._getTaxRateRow(y,x[y]);}v[v.length]=this._getTaxRateInput();return (l.createElement('div',null,l.createElement(o,{outerBorder:true},l.createElement('thead',null,l.createElement('tr',null,l.createElement('th',null,q._("Location")),l.createElement('th',null,q._("Tax Rate")),l.createElement('th',null,q._("Apply tax to shipping cost?")),l.createElement('th',null))),l.createElement('tbody',null,v))));},_getTaxRateRow:function(v,w){return (l.createElement('tr',{key:'tax_rate_'+v},l.createElement('td',null,l.createElement('span',null,v)),l.createElement('td',null,l.createElement(h,{value:this._convertDecimalToPercent(w.tax_rate,3),suffix:'%',className:"_2263",onChange:(function(x){if(x!==null){x=this._convertPercentToDecimal(x,3);this._setTaxRate(v,x,w.is_applied_to_shipping);}}).bind(this)})),l.createElement('td',null,l.createElement(i,{label:w.is_applied_to_shipping?q._("Yes"):q._("No"),value:w.is_applied_to_shipping,onChange:(function(x){this._setTaxRate(v,w.tax_rate,x);}).bind(this)})),l.createElement('td',{className:"_5rpt"},l.createElement(k,{className:"_ksy _3-9b",src:s({name:'cross',size:'small',shade:'dark'}),onClick:(function(){this._removeTaxRate(v);}).bind(this)}))));},_getTaxRateInput:function(){return (l.createElement('tr',{key:'new_tax_rate_row'},l.createElement('td',null,l.createElement(m,{className:"_2263",onChange:(function(v){this.setState({newTaxRateLocation:v.toUpperCase()});}).bind(this)})),l.createElement('td',null,l.createElement(h,{value:this._convertDecimalToPercent(this.state.newTaxRatePercentage,3),suffix:'%',className:"_2263",onChange:(function(v){if(v!==null){v=this._convertPercentToDecimal(v,3);this.setState({newTaxRatePercentage:v});}}).bind(this)})),l.createElement('td',null,l.createElement(i,{label:this.state.newIsAppliedToShipping?q._("Yes"):q._("No"),value:this.state.newIsAppliedToShipping,onChange:(function(v){this.setState({newIsAppliedToShipping:v});}).bind(this)})),l.createElement('td',{className:"_5rpt"},l.createElement(n,{label:q._("Confirm"),use:'confirm',disabled:!this._isValidLocation(this.state.newTaxRateLocation),onClick:this._handleSaveNewTaxRate}))));},_removeTaxRate:function(v){var w=this._getLocationType(v),x=this.props.taxRates;delete x[w][v];this.props.onChangeTaxRates(x);},_setTaxRate:function(v,w,x){var y=this._getLocationType(v),z=this.props.taxRates;z[y][v]={tax_rate:w,is_applied_to_shipping:x};this.props.onChangeTaxRates(z);},_handleSaveNewTaxRate:function(){var v=this.state.newTaxRateLocation;this._setTaxRate(v,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:'',newIsAppliedToShipping:false});},_getLocationType:function(v){!this._isValidLocation(v)?r(0):undefined;if(this._isValidZipCode(v)){return 'zip_code';}else return 'state_abbr';},_convertDecimalToPercent:function(v,w){var x=Math.round(v*Math.pow(10,w+2));return x/Math.pow(10,w);},_convertPercentToDecimal:function(v,w){var x=Math.round(v*Math.pow(10,w));return x/Math.pow(10,w+2);},_isValidLocation:function(v){return this._isValidZipCode(v)||this._isValidStateAbbr(v);},_isValidZipCode:function(v){var w=/^[0-9]{5}$/;return v.match(w)!==null;},_isValidStateAbbr:function(v){var w='STATE_';return w+v in j;}});f.exports=u;},null);
__d('FixedDataTableAbstractSortableHeader.react',['React','cx','joinClasses','keyMirror'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=k({ASC:null,DESC:null});function n(p){switch(p){case m.ASC:return m.DESC;default:return m.ASC;}}var o=h.createClass({displayName:'FixedDataTableAbstractSortableHeader',propTypes:{className:l.string,sorting:l.oneOf([m.ASC,m.DESC]),isSortDisabled:l.bool,onClick:l.func.isRequired},_onClick:function(p){var q=n(this.props.sorting);this.props.onClick(q,p);},render:function(){var p=this.props,q=p.children,r=p.className,s=p.sorting,t=p.isSortDisabled,u=babelHelpers.objectWithoutProperties(p,['children','className','sorting','isSortDisabled']),v="_54_8"+(t?' '+"_3w3t":'')+(!!s&&!t?' '+"_54_9":'')+(s===m.DESC&&!t?' '+"_5y6x":'');return (h.createElement('div',babelHelpers._extends({},u,{onClick:this._onClick,className:j(v,r)}),q));}});f.exports=o;},null);
__d('FixedDataTableSortableHeader.react',['FixedDataTableAbstractSortableHeader.react','Image.react','React','XUIError.react','cx','fbt','joinClasses','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){'use strict';if(c.__markCompiled)c.__markCompiled();var p=j.createClass({displayName:'FixedDataTableSortableHeader',propTypes:babelHelpers._extends({},h.propTypes),render:function(){var q=this.props,r=q.className,s=babelHelpers.objectWithoutProperties(q,['className']),t=!!s.sorting&&s.isSortDisabled?this._getBlockIcon():null;return (j.createElement(h,babelHelpers._extends({className:n(r,"_2wzx")},s),j.createElement('div',{className:"_2eq6"},t,this.props.children)));},_getBlockIcon:function(){return (j.createElement(k,{xuiErrorPosition:'above',xuiError:m._("Please use the filters to narrow down the number of items to be sorted.")},j.createElement('span',{className:"_2wzy"},j.createElement(i,{className:"_2w-0",src:o({name:'block',shade:'light'})}),j.createElement(i,{className:"_2w-1",src:o({name:'block',shade:'dark'})}))));}});f.exports=p;},null);
__d('FreeformSearchSource',['AbstractSearchSource','RegexMatchSearchSource','SearchableEntry'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l;k=babelHelpers.inherits(m,h);l=k&&k.prototype;function m(n,o,p){'use strict';l.constructor.call(this);this.$FreeformSearchSource1=n;this.$FreeformSearchSource2=new i('\\S+');this.$FreeformSearchSource3=o;this.$FreeformSearchSource4=p;}m.prototype.getBootstrappedEntries=function(n){'use strict';return this.$FreeformSearchSource1.getBootstrappedEntries(n);};m.prototype.bootstrapImpl=function(n){'use strict';this.$FreeformSearchSource1.bootstrapImpl(n);};m.prototype.validateQuery=function(n){'use strict';return n.length>=this.$FreeformSearchSource4;};m.prototype.searchImpl=function(n,o,p){'use strict';this.$FreeformSearchSource2.searchImpl(n,(function(q,r){var s=[];if(q.length===1&&this.validateQuery(r)){s=[new j({uniqueID:q[0].getUniqueID(),title:this.$FreeformSearchSource3(q[0].getTitle().trim())})];o(s,n);}this.$FreeformSearchSource1.searchImpl(n,function(t,u){if(t.length>0)o(t.concat(s),u);},p);}).bind(this),p);};f.exports=m;},null);
__d('XUIDialogHeader.react',['React','XUICardHeader.react','XUICloseButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=h.PropTypes,n=h.createClass({displayName:'XUIDialogHeader',propTypes:{closeButtonText:m.string,showCloseButton:m.bool,activeTabKey:m.string,defaultActiveTabKey:m.string,onTabClick:m.func},getDefaultProps:function(){return {closeButtonText:l._("Close"),onTabClick:function(){return true;},showCloseButton:true};},render:function(){var o=null;if(this.props.showCloseButton)o=h.createElement(j,{label:this.props.closeButtonText,className:"layerCancel _51-t"});return (h.createElement(i,babelHelpers._extends({},this.props,{className:"_4-i0",link:o,type:'primary'}),this.props.children));}});f.exports=n;},null);
__d('PageContentTabConstants',['PageContentTabTabs','keyMirror'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j={ACTIONS:i({BACKDATE:null,CREATE_ADS_FROM_POSTS:null,DELETE:null,EDIT:null,PUBLISH:null,RESCHEDULE:null,SCHEDULE:null,EDIT_EXPIRATION:null,REPUBLISH:null,UNSCHEDULE:null,EMBEDDABLE:null,SOCIAL_ACTIONS:null,PUBLISH_TO_VIDEOS_TAB:null,PUBLISH_TO_NEWS_FEED:null,SHIP_ORDER:null,PRINT_INVOICE:null,REFUND_ORDER:null,CONTACT_BUYER:null,CANCEL_ORDER:null,PUBLISH_FUNDRAISER:null,UNPUBLISH_FUNDRAISER:null,DELETE_FUNDRAISER:null,DUPLICATE:null,NEW_POST_FROM_VIDEO_ASSET:null}),COLUMNS:i({POST:null,DATE_CREATED:null,DATE_LAST_MODIFIED:null,MARKUP_EDITOR:null,PROMOTION_STATUS:null,SCHEDULED_PUBLISH_TIME:null,PRODUCT:null,VISIBILITY:null,INVENTORY:null,IMPRESSIONS:null,MESSAGE_SENDS:null,ORDER_DATE:null,ORDER_ITEMS:null,ORDER_BUYER:null,ORDER_PRICE:null,COLLECTION:null,EXPIRATION_INFO:null,PUBLISH_STATUS:null,HAS_ERRORS:null,ID:null,REACH:null,ENGAGEMENT:null,PPTP:null,VIDEO:null,VIDEO_VIEWS:null,VIDEO_DATE_CREATED:null,VIDEO_EMBEDDABLE:null,VIDEO_SOCIAL_ACTIONS:null,JOB_POSTS:null,FORM_DATE_CREATED:null,FORM_DOWNLOAD_CSV_URL:null,FORM_NAME:null,FORM_LEADS_COUNT:null,FORM_LOCALE:null,MATCHING_VIDEO:null,PUBLISHED_DATE:null,OVERLAP:null,EXPIRES_DAYS:null,REPORTED_VIDEO:null,LAST_MODIFIED_BY:null,FUNDRAISER:null,FUNDRAISER_STATUS:null,FUNDRAISER_DONORS:null,FUNDRAISER_LIKES:null,LOCATION_LANGUAGE:null,REORDERING:null,REFERENCE_VIDEO:null,ADS_CANVAS_NAME:null,ADS_CANVAS_UPDATE_TIME:null,ADS_CANVAS_IS_PUBLISHED:null,ADS_CANVAS_EDITOR:null,DATE_ADDED:null,VIDEO_AUDIO:null,NEW_MATCHES:null}),COLUMN_GROUPS:i({BUTTONS:null,DATES:null}),TABS:h,LEFT_NAV_GROUPS:i({POSTS:null,VIDEOS:null,LEAD_ADS_FORMS:null,VIDEOS_COPYRIGHT:null,SHOP:null,FUNDRAISERS:null,INSTANT_ARTICLES:null}),ACTION_TYPES:i({ADD_POSTS:null,CREATE_POST:null,CREATE_POSTS:null,EDIT_POST:null,INIT_PAGE:null,REMOVE_POST:null,REMOVE_POSTS:null,FILTER:null,ERROR:null,PAGING_CHANGED:null,UPDATE_FILTER_STATUS:null,UPDATE_STALE_CONTENT_NOTICE:null,QUERY_KEY_CHANGED:null,QUERY_CHANGED:null,FILTER_CHANGED:null,SORT_CHANGED:null,SET_CUSTOM_TAB_STATE:null}),PAYLOAD_SOURCES:i({SERVER:null,VIEW_ACTION:null}),PREVIEW_TABS:i({DESKTOP:null,MOBILE:null}),SORT_ORDER_ASC:'ASC',SORT_ORDER_DESC:'DESC',EDIT_HISTORY_ASYN_DIALOG:'/ajax/edits/browser/post/'};f.exports=j;},null);
__d('PageContentTabDispatcher',['AdsGenericFilterSet','Dispatcher','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k,l,m=j.ACTION_TYPES,n=j.PAYLOAD_SOURCES,o=j.TABS;k=babelHelpers.inherits(p,i);l=k&&k.prototype;p.prototype.handleInitialization=function(q,r,s,t){'use strict';if(q.externalURI)return;this.dispatch({action:{posts:{key:r,data:s},actionType:m.ADD_POSTS,tab:q,pageID:t},payloadSource:n.SERVER});};p.prototype.handlePostRemoved=function(q,r,s){'use strict';if(s){this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POST,postID:r,tab:s,pageID:q}});}else Object.keys(o).forEach((function(t){return this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POST,postID:r,tab:t,pageID:q}});}).bind(this),this);};p.prototype.handlePostsRemoved=function(q,r,s){'use strict';if(s){this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POSTS,postIDs:r,tab:s,pageID:q}});}else Object.keys(o).forEach((function(t){return this.dispatch({payloadSource:n.VIEW_ACTION,action:{actionType:m.REMOVE_POSTS,postIDs:r,tab:t,pageID:q}});}).bind(this));};p.prototype.handlePageInitialization=function(q){'use strict';this.dispatch({payloadSource:n.SERVER,action:{page:q,actionType:m.INIT_PAGE}});};p.prototype.handlePostCreated=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:q,actionType:m.CREATE_POST,post:r,pageID:s}});};p.prototype.handlePostsCreated=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:q,actionType:m.CREATE_POSTS,posts:r,pageID:s}});};p.prototype.handlePostChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.SERVER,action:{actionType:m.EDIT_POST,post:q,tab:r,pageID:s}});};p.prototype.handleStaleContentNoticeStatus=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.UPDATE_STALE_CONTENT_NOTICE,status:s,pageID:q}});};p.prototype.handleFilterStatus=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.UPDATE_FILTER_STATUS,status:s,pageID:q}});};p.prototype.handleSetCustomTabState=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:q,actionType:m.SET_CUSTOM_TAB_STATE,customTabState:r,pageID:s}});};p.prototype.handleError=function(q,r,s){'use strict';this.dispatch({payloadSource:n.SERVER,action:{tab:q,actionType:m.ERROR,error:r,pageID:s}});};p.prototype.handlePagingChanged=function(q,r,s,t){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,pageID:q,actionType:m.PAGING_CHANGED,currentPage:t,queryKey:s}});};p.prototype.handleQueryKeyChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.QUERY_KEY_CHANGED,pageID:q,queryKey:s}});};p.prototype.handleQueryChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.QUERY_CHANGED,pageID:q,query:s}});};p.prototype.handleFilterChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.FILTER_CHANGED,pageID:q,filter:s}});};p.prototype.handleSortChanged=function(q,r,s){'use strict';this.dispatch({payloadSource:n.VIEW_ACTION,action:{tab:r,actionType:m.SORT_CHANGED,pageID:q,sort:s}});};function p(){'use strict';k.apply(this,arguments);}f.exports=new p();},null);
__d('PageContentTabConfirmationDialog.react',['LayerHideOnEscape','LayerFadeOnHide','React','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react','XUIDialogTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=j.PropTypes,r=j.createClass({displayName:'PageContentTabConfirmationDialog',propTypes:{cancelLabel:q.string,title:q.string.isRequired,body:q.string.isRequired,confirmationLabel:q.string.isRequired,onConfirm:q.func.isRequired},render:function(){var s=this.props.cancelLabel||p._("Cancel");return (j.createElement(k,{behaviors:{LayerHideOnEscape:h,LayerFadeOnHide:i},shown:true,width:450},j.createElement(o,null,this.props.title),j.createElement(l,null,this.props.body),j.createElement(n,null,j.createElement(m,{action:'cancel',label:s,use:'default'}),j.createElement(m,{action:'cancel',label:this.props.confirmationLabel,onClick:this.props.onConfirm,use:'confirm'}))));}});f.exports=r;},null);
__d('PageContentTabTextUtils',[],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={getPostID:function(i){var j=i.split('_');return j.pop();}};f.exports=h;},null);
__d('PageContentTabCommonConfig',['DOM','React','ReactDOM','LayerFadeOnHide','LayerHideOnEscape','PageContentTabConfirmationDialog.react','PageContentTabConstants','PageContentTabTextUtils','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogOkayButton.react','XUIDialogTitle.react'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();var u=n.COLUMNS,v={getValueFromInsight:function(w){if(w.values&&w.values.length===1)return w.values[0].value.toString();return "0";},maxInsightValue:function(w,x){var y=0;w.forEach(function(z){var aa=z.insights&&z.insights.data;(aa||[]).forEach(function(ba){if(ba.name===x){var ca=v.getValueFromInsight(ba);y=Math.max(y,parseInt(ca,10));}});});return y;},maxProductInsightValue:function(w,x){var y=0;w.forEach(function(z){var aa=x.map(function(ca){return z.commerce_insights[ca];}),ba=aa.reduce(function(ca,da){return ca+da;});y=Math.max(y,ba?ba:0);});return y;},showErrorDialog:function(w,x){j.render(i.createElement(p,{shown:true,behaviors:{LayerFadeOnHide:k,LayerHideOnEscape:l},width:600},i.createElement(t,null,i.createElement('span',null,w)),i.createElement(q,null,x),i.createElement(r,null,i.createElement(s,{use:'confirm',action:'cancel'}))),h.create('div'));},showConfirmationDialog:function(w,x,y,z,aa){j.render(i.createElement(m,{cancelLabel:aa,title:w,body:x,confirmationLabel:y,onConfirm:z}),h.create('div'));},createScheduledPostRow:function(w,x){var y=v.createDraftPostRow(w,x);y[u.SCHEDULED_PUBLISH_TIME]={time:w.scheduled_publish_time,admin:w.admin_creator&&w.admin_creator.name};y[u.PROMOTION_STATUS]=w.promotion_info;y[u.ID]=o.getPostID(w.id);return y;},createDraftPostRow:function(w,x){return v._createUnpublishedPostRowBase(w,x);},_createUnpublishedPostRowBase:function(w,x){var y={};y[u.POST]={id:w.id,text:w.message,img:w.thumbnail||x.picture&&x.picture.url,url:w.permalink_url,owner:x.page_id,place:w.place,og_action_summary:w.og_action_summary};y[u.DATE_CREATED]={time:w.creation_time,admin:w.admin_creator&&w.admin_creator.name};y[u.DATE_LAST_MODIFIED]={edit_actions:w.edit_actions&&w.edit_actions.data,modified_time:w.modified_time};y[u.LOCATION_LANGUAGE]=w.privacy_description;return y;}};f.exports=v;},null);
__d('PageCommerceProductVariantPage.react',['AccessibleTableParts.react','CommerceProductVariantType','CommerceUI','CurrencyInput.atlas','DummySearchSource','FreeformSearchSource','Image.react','Layout.react','Link.react','NumberInput.atlas','React','SearchableEntry','XUIGrayText.react','XUISingleSelector.react','XUITable.react','XUITokenizer.react','cx','fbt','glyph','isEmpty'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){'use strict';if(c.__markCompiled)c.__markCompiled();var ba=r.PropTypes,ca=h.BodyRow,da=h.HeadRow,ea=o.Column,fa=o.FillColumn,ga=u.Option,ha=r.createClass({displayName:'PageCommerceProductVariantPage',propTypes:{currencyCode:ba.string.isRequired,defaultVariantPrice:ba.number,setVariantInfo:ba.func.isRequired,variants:ba.arrayOf(ba.shape({label:ba.string,options:ba.arrayOf(ba.string),canDelete:ba.bool})).isRequired,variantItems:ba.objectOf(ba.shape({properties:ba.object,price:ba.number,inventory:ba.number,productID:ba.number})).isRequired},getInitialState:function(){return {searchSource:new m(new l(),function(ia){return ia;},0)};},render:function(){var ia=null;if(this.props.variants.length<j.MAX_VARIANTS)ia=r.createElement(p,{onClick:this._addNewVariantInput},'Add Variant');return (r.createElement('div',{className:"_3-8j"},r.createElement('div',{ref:'variant_input_list'},this.props.variants.map((function(ja,ka){return (this._getVariantInput(ja,ka,this._getVariantLabels()));}).bind(this))),ia,this._getVariantsTable()));},_getVariantInput:function(ia,ja,ka){var la=null;if(ia.canDelete)la=r.createElement(ea,null,r.createElement(n,{className:"_11dw",onClick:this._removeVariant.bind(this,ia,ja),src:z('remove')}));return (r.createElement('div',{key:'variant'+ja,className:"_3-95"},r.createElement(o,null,r.createElement(ea,null,this._getVariantOptions(ia,ja,ka)),r.createElement(fa,{className:"_2pis"},r.createElement(w,{entries:this._getTokenizerEntries(ia),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,ia,ja),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,ia,ja),tokenizeQueryString:this._tokenizeQueryString.bind(this,ia,ja),selectOnBlur:true})),la)));},_getVariantsTable:function(){if(aa(this.props.variantItems))return null;var ia=[];for(var ja in this.props.variantItems){var ka=this.props.variantItems[ja],la=ka.properties,ma=[];this.props.variants.forEach(function(oa,pa){var qa=la&&la[oa.label]?la[oa.label]:'';ma.push(r.createElement('td',{className:"_2ncv",key:pa},qa));});ma.push(r.createElement('td',{width:'50',key:ja+'inventory'},r.createElement(q,{isZeroValidValue:true,name:'inventory',nonnegative:true,value:ka.inventory,formatNumber:false,onValueUpdated:this._updateVariantItem.bind(this,ja,'inventory')})));ma.push(r.createElement('td',{width:'50',key:ja+'price'},r.createElement(k,{currency:this.props.currencyCode,onChange:this._updateVariantItem.bind(this,ja,'price'),value:ka.price})));ia.push(r.createElement(ca,{key:ja},ma));}var na=[];this.props.variants.forEach(function(oa,pa){na.push(r.createElement('th',{key:oa.label+pa},oa.label));});na.push(r.createElement('th',{key:'inventory'},'Inventory'));na.push(r.createElement('th',{key:'price'},'Price'));return (r.createElement(v,{outerBorder:true,className:"_2ncw"},r.createElement('thead',null,r.createElement(da,null,na)),r.createElement('tbody',null,ia)));},_updateVariantItem:function(ia,ja,ka){var la=this.props.variantItems;la[ia][ja]=ka;this.props.setVariantInfo({variantItems:la});},_getVariantItems:function(ia,ja){var ka={};this._getVariantCombos(ia.slice(0)).forEach((function(la){var ma=[];for(var na in la)ma.push(la[na]);ma.sort();var oa=JSON.stringify(ma);ka[oa]={properties:la,price:this.props.defaultVariantPrice,inventory:0};if(oa in ja)ka[oa].productID=ja[oa].productID;}).bind(this));return ka;},_getVariantCombos:function(ia){if(ia.length===0)return [{}];var ja=[],ka=ia.shift(),la=this._getVariantCombos(ia.slice(0));if(ka.options.length==0)return la;ka.options.forEach(function(ma){la.forEach(function(na){var oa=Object.assign({},na);oa[ka.label]=ma;ja.push(oa);});});return ja;},_getTokenizerEntries:function(ia){return ia.options.map(function(ja){return new s({uniqueID:ja,title:ja});});},_onRemoveVariantOptionAttempt:function(ia,ja,ka){var la=ka.getTitle(),ma=ia.options.indexOf(la);if(ma>=0)ia.options.splice(ma,1);var na=this.props.variantItems;if(ia.options.length==0){var oa={};for(var pa in na){var qa=JSON.parse(pa);ma=qa.indexOf(la);if(ma>=0)qa.splice(ja,1);qa.sort();oa[JSON.stringify(qa)]=na[pa];}na=oa;}this._updateVariant(ia,ja,na);},_onAddVariantOptionAttempt:function(ia,ja,ka){var la=ka.getTitle().trim();if(ia.options.indexOf(la)>=0||la.length===0)return;ia.options.push(la);var ma=this.props.variantItems;if(ia.options.length==1){var na={};for(var oa in ma){var pa=JSON.parse(oa);pa.push(la);pa.sort();na[JSON.stringify(pa)]=ma[oa];}ma=na;}this._updateVariant(ia,ja,ma);},_updateVariant:function(ia,ja,ka){var la=this.props.variants;la[ja]=ia;var ma=this._getVariantItems(la,ka);this.props.setVariantInfo({variants:la,variantItems:ma});},_tokenizeQueryString:function(ia,ja,ka){if(!ka||!ka.includes(','))return null;var la=ka.split(',').filter(function(na){return na!=='';}),ma=la.pop();la.map((function(na){this._onAddVariantOptionAttempt(ia,ja,new s({uniqueID:na,title:na}));}).bind(this));return new s({uniqueID:ma,title:ma});},_addNewVariantInput:function(){var ia=this.props.variants;ia.push(this._getDefaultVariant());this.props.setVariantInfo({variants:ia});},_removeVariant:function(ia,ja){var ka=this.props.variants;ka.splice(ja);this.props.setVariantInfo({variants:ka});},_getVariantLabels:function(){return this.props.variants.map(function(ia){return String(ia.label);});},_getDefaultVariant:function(){var ia=this._getVariantLabels(),ja;for(var ka in i){var la=i[ka];if(ia.indexOf(la)===-1){ja=la;break;}}return {label:ja,options:[],canDelete:true};},_getVariantOptions:function(ia,ja,ka){var la=[];for(var ma in i){var na=i[ma];if(ia.label!==na&&ka.indexOf(na)!==-1)continue;la.push(r.createElement(ga,{key:ma+ja,value:na},na));}return (r.createElement(u,{className:"_11dy",onChange:this._onSelectorChange.bind(this,ia,ja),value:ia.label,size:'large'},la));},_onSelectorChange:function(ia,ja,ka){ia.label=ka.value;this._updateVariant(ia,ja,this.props.variantItems);}});f.exports=ha;},null);
__d("XPagesManagerProductPhotoUploadController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/upload\/file\/product\/photo\/",{waterfall_id:{type:"String"}});},null);
__d("XStickerPhotoEditorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/editor\/sticker_editor\/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1}});},null);
__d('PageProductPhotoEditButton.react',['ActorURI','Arbiter','AsyncRequest','BOFSellerLogger','BOFSellerLoggerEvent','ReactComposerPhotoActions','PhotoEditorTargetType','XPagesManagerProductPhotoUploadController','React','Tooltip','XComposerPhotoUploader','XStickerPhotoEditorController','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();var v,w;'use strict';var x=p.PropTypes;v=babelHelpers.inherits(y,p.Component);w=v&&v.prototype;y.prototype.componentDidMount=function(){i.subscribe('PageProductPhotoEditor/newImage'+this.props.composerID,this.$PageProductPhotoEditButton1.bind(this));};y.prototype.render=function(){var z=u._("Edit Photo");return (p.createElement('button',babelHelpers._extends({className:"_k4v",onClick:this.$PageProductPhotoEditButton2.bind(this)},q.propsFor(z)),p.createElement('div',{className:"_k4w"})));};y.prototype.$PageProductPhotoEditButton2=function(){if(this.$PageProductPhotoEditButton3)return;k.log(l.ACTN_EDIT_PHOTO_CLICK,this.props.pageID,{target_class:'Photo',target_id:this.props.photoID});var z=s.getURIBuilder().setString('grid_id',this.props.composerID).setEnum('target_type',n.PAGE_PRODUCT_COMPOSER).setInt('photo_fbid',this.props.photoID).getURI();this.$PageProductPhotoEditButton3=new j(z).setFinallyHandler((function(){this.$PageProductPhotoEditButton3=null;}).bind(this)).send();m.startPhotoEdit(this.props.composerID);};y.prototype.$PageProductPhotoEditButton1=function(z,aa){var ba=h.create(o.getURIBuilder().getURI(),this.props.pageID),ca=new r({uploadEndpoint:ba,onUploadSuccess:(function(da,ea){this.props.onPhotoEdited(aa.fbid,ea.response.payload[0]);}).bind(this)});ca.getAsyncUploadRequest([aa.blob]).send();};function y(){v.apply(this,arguments);}y.propTypes={composerID:x.string.isRequired,onPhotoEdited:x.func.isRequired,pageID:x.string.isRequired,photoID:x.string.isRequired};f.exports=y;},null);
__d('PageContentTabProductPhotoUploader.react',['ActorURI','Image.react','Link.react','Omnipicker.react','ComputerPanel.react','OmnipickerComputerSelector.react','OmnipickerDialog.react','OmnipickerDialogRenderer','OmnipickerPagePostedPhotosPanel.react','OmnipickerPagePostedPhotosSelector.react','OmnipickerPanelList.react','OmnipickerSelectorList.react','OmnipickerWaterfallLogger','XPagesManagerProductPhotoUploadController','PUWApplications','PUWSteps','React','WaterfallIDGenerator','XUICloseButton.react','XUIGrayText.react','PageProductPhotoEditButton.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da){'use strict';if(c.__markCompiled)c.__markCompiled();var ea=x.PropTypes,fa=x.createClass({displayName:'PageContentTabProductPhotoUploader',_waterfallLogger:t,propTypes:{maxPhotosCount:ea.number,pageID:ea.string.isRequired,onPhotoEdited:ea.func,onPhotosSelected:ea.func.isRequired,onPhotoRemoved:ea.func.isRequired,photos:ea.array.isRequired,photoEditingEnabled:ea.bool.isRequired},getInitialState:function(){var ga={fileUploadURI:h.create(u.getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new t(v.WEB_PRODUCT_PHOTO_OMNIPICKER,y.generate());return {dialogRenderer:new o(x.createElement(n,{onCancel:this.onPickerCancel,title:da._("Select Photo")},x.createElement(k,{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos},x.createElement(s,null,x.createElement(m,null),x.createElement(q,null)),x.createElement(r,null,x.createElement(l,{config:ga}),x.createElement(p,{pageID:this.props.pageID})))))};},onPickerCancel:function(){this.state.dialogRenderer.hide();this._waterfallLogger.logStep(w.CLIENT_FLOW_CANCEL);},onPickerAddPhotos:function(ga){this.state.dialogRenderer.hide();this.props.onPhotosSelected(ga);},render:function(){return (x.createElement('div',null,this._renderUploadedPhotos(),this._renderAddPhotoLink()));},_renderUploadedPhotos:function(){return this.props.photos.map((function(ga){var ha=null;if(this.props.photoEditingEnabled)ha=x.createElement(ba,{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:ga.fbid});return (x.createElement('div',{key:ga.fbid,className:"_5m94"},x.createElement(z,{className:"_5m95",size:'medium',shade:'light',onClick:(function(ia){return this.props.onPhotoRemoved(ga);}).bind(this)}),x.createElement(i,{className:"_19tc",src:ga.src}),ha,x.createElement('div',{className:"_19td"})));}).bind(this));},_renderAddPhotoLink:function(){if(this.props.maxPhotosCount&&this.props.photos.length>=this.props.maxPhotosCount)return null;return (x.createElement(j,{className:"_3ff7",ref:'uploadButton',onClick:this._onPickerLaunch},x.createElement('div',{className:"_22to _19tc"},x.createElement(aa,{className:"_3ff8",size:'small',display:'block'},da._("Add Photos")))));},_onPickerLaunch:function(){this._waterfallLogger.logStep(w.CLIENT_FLOW_BEGIN);this.state.dialogRenderer.show();}});f.exports=fa;},null);
__d("XPagesManagerProductDeleteController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/products\/product_delete\/",{group_ids:{type:"StringVector"}});},null);
__d('PageProductActions',['ActorURI','AsyncRequest','PageContentTabCommonConfig','PageContentTabDispatcher','PageContentTabLoadingDialog','XPagesManagerProductDeleteController','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n){'use strict';if(c.__markCompiled)c.__markCompiled();var o={deleteProducts:function(p,q,r){l.show();var s=h.create(m.getURIBuilder().setStringVector('group_ids',p).getURI(),q);new i(s).setMethod('POST').setHandler(function(t){p.forEach(function(u){return k.handlePostRemoved(q,u);});}).setFinallyHandler(function(){l.hide();r&&r();}).send();},deleteProductsWithConfirmation:function(p,q,r){var s=p.length===1?n._("Deleting this product will remove it from your shop"):n._("Deleting these products will remove them from your shop");j.showConfirmationDialog(n._({"Product":"Delete Product?","Products":"Delete Products?"},[n['enum'](p.length===1?'Product':'Products',{Product:'Product',Products:'Products'})]),s,n._({"product":"Delete product","products":"Delete products"},[n['enum'](p.length===1?'product':'products',{product:'product',products:'products'})]),o.deleteProducts.bind(o,p,q,r),null);}};f.exports=o;},null);
__d('PageProductComposerShippingOptions.react',['CommerceSelfServeUI','CurrencyInput.atlas','Image.react','LeftRight.react','Link.react','React','XUIGrayText.react','XUIText.react','XUITextInput.react','cx','fbt','xuiglyph'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){'use strict';if(c.__markCompiled)c.__markCompiled();var t=m.PropTypes,u=m.createClass({displayName:'PageProductComposerShippingOptions',propTypes:{currencyCode:t.string.isRequired,disabled:t.bool,hideTitle:t.bool,settingsURI:t.object,shippingOptions:t.arrayOf(t.shape({shipping_country:t.string,shipping_price_currency:t.string,shipping_price_value:t.number,shipping_service:t.string})).isRequired,onShippingOptionsChange:t.func.isRequired},componentWillMount:function(){if(this.props.shippingOptions.length===0)this.props.onShippingOptionsChange([this._getDefaultShippingOption()]);},componentWillReceiveProps:function(v){if(v.shippingOptions.length===0)this.props.onShippingOptionsChange([this._getDefaultShippingOption()]);},render:function(){var v=this.props.shippingOptions.length,w=s({name:'cross',shade:'light',size:'small'}),x=[];this.props.shippingOptions.forEach((function(da){var ea=da.shipping_service,fa=x.length;x[fa]=m.createElement('tr',{className:"_5b1f",key:'option-'+fa},m.createElement('td',{className:"_b3y"},m.createElement(p,{className:"_53sm",disabled:this.props.disabled,height:'tall',value:ea,placeholder:r._("Shipping method name"),onChange:(function(ga){return this._onShippingNameChange(fa,ga.target.value);}).bind(this),ref:fa})),m.createElement('td',{className:"_b3z"},m.createElement(i,{currency:da.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:true,value:Number(da.shipping_price_value)/100,onChange:(function(ga){return this._onShippingPriceChange(fa,ga*100);}).bind(this)})),v>h.MIN_SHIPPING_OPTIONS?m.createElement('td',{className:"_b3-"},m.createElement(l,{onClick:(function(ga){this.props.disabled?null:this._onRemoveShippingOption(fa);}).bind(this)},m.createElement(j,{className:"_2_qb",src:w}))):null);}).bind(this));var y,z=m.createElement(o,{size:'small'},r._("Add Shipping Method"));if(v>=h.MAX_SHIPPING_OPTIONS){var aa=r._("You have reached the maximum number of shipping options.");y=m.createElement(l,{'data-hover':'tooltip','aria-label':aa,onClick:function(da){return da.stopPropagation();}},z);}else y=m.createElement(l,{onClick:this.props.disabled?null:this._onAddNewOption},z);var ba=null;if(this.props.settingsURI)ba=m.createElement(l,{className:"_3-9b",href:this.props.settingsURI,target:'_blank'},r._("Edit Default Shipping Options"));var ca=null;if(!this.props.hideTitle)ca=m.createElement(n,{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},r._("Shipping Options"),ba);return (m.createElement('div',{className:"_4qx _2pid"},ca,m.createElement('table',{className:"_b40"},m.createElement('tbody',null,x)),m.createElement('div',{className:"_2pic _2pir"},y)));},_getDefaultShippingOption:function(){return {shipping_country:'US',shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null};},_onShippingNameChange:function(v,w){var x=this.props.shippingOptions;x[v].shipping_service=w;this.props.onShippingOptionsChange(x);},_onShippingPriceChange:function(v,w){var x=this.props.shippingOptions;x[v].shipping_price_value=w;this.props.onShippingOptionsChange(x);},_onAddNewOption:function(){var v=this.props.shippingOptions;v[v.length]=this._getDefaultShippingOption();this.props.onShippingOptionsChange(v);},_onRemoveShippingOption:function(v){var w=this.props.shippingOptions;w.splice(v,1);this.props.onShippingOptionsChange(w);var x=v>0?v-1:0;this.refs[x].focusInput();}});f.exports=u;},null);
__d('PageProductComposerTaxCategorySelector.react',['CommerceSelfServeProductTaxCategories','HelpLink.react','React','XUIGrayText.react','XUISelector.react','cx','fbt','forEachObject','invariant'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.Option,r=j.PropTypes,s=j.createClass({displayName:'PageProductComposerTaxCategorySelector',propTypes:{onTaxCategoryChange:r.func,taxCategory:r.number},getDefaultProps:function(){return {taxCategory:h.TAX_ITEM_CODE_COMMERCE_OTHERS};},render:function(){var t=[];o(h,(function(u,v){if(u!==h.NONE&&u!==h.TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)t.push(j.createElement(q,{value:u,key:'UNSPSC_'+u},this._getTaxCategoryDescription(v)));}).bind(this));return (j.createElement('div',{className:"_3-8y"},j.createElement(k,{className:"_3-94",display:'block',weight:'bold',shade:'dark',size:'small'},n._("Product Category"),j.createElement(i,{tooltip:this._getTaxCategoryHelpText(),alignv:'bottom'})),j.createElement(l,{onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},t)));},_getTaxCategoryHelpText:function(){return n._("This category is used to automatically calculate taxes for your product. You can enter a different tax rate using Custom Product Taxes in Advanced Options or in your Shop Settings.");},_getTaxCategoryDescription:function(t){!h.hasOwnProperty(t)?p(0):undefined;switch(h[t]){case h.TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return n._("Sports and Recreation");case h.TAX_ITEM_CODE_COMMERCE_CLOTHING:return n._("Clothing");case h.TAX_ITEM_CODE_COMMERCE_SHOES:return n._("Shoes");case h.TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return n._("Luggage\/Bags");case h.TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return n._("Personal Care");case h.TAX_ITEM_CODE_COMMERCE_JEWELRY:return n._("Jewelry");case h.TAX_ITEM_CODE_COMMERCE_WATCHES:return n._("Watches");case h.TAX_ITEM_CODE_COMMERCE_OTHERS:return n._("Other physical goods");default:p(0);}}});f.exports=s;},null);
__d('ProductVisibilitySelector.react',['ProductVisibility','React','XUISelector.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=i.PropTypes,m=j.Option,n=i.createClass({displayName:'ProductVisibilitySelector',propTypes:babelHelpers._extends({onChange:l.func.isRequired,value:l.string.isRequired},j.propTypes),render:function(){var o=this.props,p=o.onChange,q=o.value,r=babelHelpers.objectWithoutProperties(o,['onChange','value']);return (i.createElement(j,babelHelpers._extends({onChange:function(s){return p(s.value);},value:q},r),i.createElement(m,{value:h.PUBLISHED},k._("Public")),i.createElement(m,{value:h.STAGING},k._("Unpublished"))));}});f.exports=n;},null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/featured_items_count\/",{});},null);
__d("XPagesManagerProductCreateController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/products\/product_create\/",{});},null);
__d("XPagesManagerProductVariantsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/product_variants\/",{product_group_id:{type:"String",required:true}});},null);
__d("XPagesManagerSettingsController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/{page_token}\/settings\/",{edited:{type:"String"},section:{type:"String"},tab:{type:"String"},change_admin_action:{type:"String"},change_admin_uid:{type:"Int"},tbid:{type:"Int"},fid:{type:"Int"},item_id:{type:"Int"},ref:{type:"String"},q:{type:"String"},page_token:{type:"String",required:true},business_id:{type:"Int"}});},null);
__d("XPagesManagerProductViewController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/pages\/content_tab\/product\/",{product_id:{type:"String",required:true}});},null);
__d('PageProductComposerDialog.react',['AdsHelpLink.react','AsyncRequest','ActorURI','BOFSellerLogger','BOFSellerLoggerEvent','BOFSellerLoggingSources','CommerceExceptionHandlerMixin.react','CommerceSelfServeSection','CommerceSelfServeProductTaxCategories','CommerceSelfServeProductTaxRatesTable.react','CurrencyInput.atlas','FBToggleSwitch.react','HelpLink.react','Image.react','ImageBlock.react','Link.react','NumberInput.atlas','PageCommerceProductVariantPage.react','PageContentTabDispatcher','PageContentTabProductPhotoUploader.react','PagesManagerProductToolsConstants','PageProductActions','PageProductComposerShippingOptions.react','PageProductComposerTaxCategorySelector.react','ProductVisibility','ProductVisibilitySelector.react','React','ReactLayeredComponentMixin','AbstractTextArea.react','URI','XCommerceSelfServeParam','XPagesManagerFeaturedItemsCountController','XPagesManagerProductCreateController','XPagesManagerProductVariantsController','XPagesManagerSettingsController','XPagesManagerProductViewController','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUIDialogTitle.react','XUIError.react','XUIGrayText.react','XUINotice.react','XUISpinner.react','XUITextInput.react','cx','fbt','getOwnObjectValues','ix','PageContentTabConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb,db,eb,fb,gb,hb,ib,jb){'use strict';if(c.__markCompiled)c.__markCompiled();var kb=ha.PropTypes,lb=jb.TABS,mb=500,nb=3,ob={main:'main',variant:'variant'},pb=ha.createClass({displayName:'PageProductComposerDialog',mixins:[n,ia],propTypes:{currencyCode:kb.string.isRequired,defaultShippingOptions:kb.array,onProductChanged:kb.func,onProductDeleted:kb.func,pageID:kb.string.isRequired,productID:kb.string,productGroupID:kb.string,requireDescription:kb.bool.isRequired,sections:kb.array.isRequired,shownInitially:kb.bool,source:kb.oneOf(hb(m)).isRequired},getInitialState:function(){return {currentTabKey:'Edit',currentPage:ob.main,dialogShown:this.props.shownInitially,featuredCount:0,inventory:1,loading:false,saving:false,photos:[],productDesc:'',productPrice:null,productTitle:'',productVisibility:fa.PUBLISHED,shareToTimeline:false,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:p.TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:false,visibilityNotice:null,variants:[],variantItems:{}};},componentWillMount:function(){if(this.props.productID)this._fetchProductDetails(this.props.pageID,this.props.productID);if(this.props.productGroupID)this._fetchVariants(this.props.pageID,this.props.productGroupID);this._fetchFeaturedCount(this.props.pageID);},componentDidMount:function(){var event=this.props.productID?l.ACTN_EDIT_PRODUCT_CLICK:l.ACTN_ADD_PRODUCT_CLICK,qb=babelHelpers._extends({source:this.props.source},{});if(this.props.productID){qb.target_class='EntProdutItem';qb.target_id=this.props.productID;}k.log(event,this.props.pageID,qb);},componentWillReceiveProps:function(qb){if(this.props.pageID!==qb.pageID||this.props.productID!==qb.productID||this.props.productGroupID!==qb.productGroupID){this._fetchProductDetails(qb.pageID,qb.productID);this._fetchVariants(qb.pageID,qb.productGroupID);}},_fetchFeaturedCount:function(qb){this.setState({loading:true});var rb=j.create(ma.getURIBuilder().getURI(),qb);new i().setURI(rb).setHandler((function(sb){var tb=this.state.featuredProduct,ub=sb.payload.featured_count;if(ub>=ba.MAX_FEATURED_ITEM_COUNT)tb=false;this.setState({loading:false,featuredCount:ub,featuredProduct:tb});}).bind(this)).send();},_fetchProductDetails:function(qb,rb){this.setState({loading:true});var sb=j.create(qa.getURIBuilder().setString(la.PRODUCT_ID,rb).getURI(),qb);new i().setURI(sb).setHandler(this._onProductDetailsFetched).send();},_fetchVariants:function(qb,rb){this.setState({loading:true});var sb=j.create(oa.getURIBuilder().setString('product_group_id',rb).getURI(),qb);new i().setURI(sb).setHandler((function(tb){return this.setState(tb.payload);}).bind(this)).send();},onPhotosSelected:function(qb){this.setState({photos:this.state.photos.concat(qb)});},onPhotoRemoved:function(qb){this.setState({photos:this.state.photos.filter(function(rb){return rb.fbid!==qb.fbid;})});},onPhotoEdited:function(qb,rb){var sb=this.state.photos.findIndex(function(ub){return ub.fbid===qb;});if(sb!==undefined){k.log(l.ACTN_PHOTO_EDITED,this.props.pageID,{target_class:'Photo',target_id:rb.fbid});var tb=this.state.photos.slice();tb[sb]=rb;this.setState({photos:tb});}},renderLayers:function(){if(!this.state.dialogShown)return {};var qb=this.renderGeneralError(),rb=null;if(qb)rb=ha.createElement('div',{className:"_2pib _2piq"},qb);return {dialog:ha.createElement(sa,{width:mb,causalElementRef:(function(){return this.refs.createButton;}).bind(this),onToggle:this._onToggleDialog,shown:this.state.dialogShown},this._getDialogHeader(),ha.createElement(ta,{useCustomPadding:true},this._getInnerContent()),rb,this._getDialogFooter())};},_getDialogHeader:function(){switch(this.state.currentPage){case ob.main:return (ha.createElement(xa,{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders()));case ob.variant:return (ha.createElement(za,null,this._getTitle()));}return ha.createElement('div',null);},_getTabHeaders:function(){var qb=[ha.createElement(ya,{href:'#',key:'Edit'},this._getTitle())];if(this._showSection(o.TAX_TABLE))qb.push(ha.createElement(ya,{href:'#',key:'Advanced'},gb._("Advanced Options")));return qb;},_getTabBodies:function(){var qb=this.state.currentTabKey=='Edit',rb=[ha.createElement('div',{className:qb?"_2pi1":"hidden_elem",key:'basic_product_edit_tab'},ha.createElement('div',{dangerouslySetInnerHTML:this.state.visibilityNotice}),ha.createElement(aa,{pageID:this.props.pageID,photoEditingEnabled:this._showSection(o.PHOTO_EDITOR),photos:this.state.photos,onPhotosSelected:this.onPhotosSelected,onPhotoRemoved:this.onPhotoRemoved,onPhotoEdited:this.onPhotoEdited}),this._getNamePriceDescriptionInputs(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),ha.createElement('div',{className:"_4ktn"},this._getInventoryInput(),this._getVariantsButton()),ha.createElement('div',{className:"_4ktn"},this._getTaxCategorySelector(),this._getVisibilitySelector()),this._getShippingOptionsSection(),this._getEditWarning())];if(this._showSection(o.TAX_TABLE))rb.push(ha.createElement('div',{className:(qb?"hidden_elem":'')+(' '+"_2pi1")+(' '+"_5dz6"),key:'advanced_product_edit_tab'},this._getTaxTable()));return rb;},_getMerchantSettingsURI:function(){return pa.getURIBuilder().setString('page_token',this.props.pageID).setString('tab','shop').getURI();},_getTaxTable:function(){return (ha.createElement('div',null,ha.createElement('div',{display:'block',className:"_3-96"},ha.createElement(bb,{weight:'bold',shade:'dark',size:'medium'},gb._("Custom Product Taxes")),ha.createElement(h,{width:350,position:'below'},gb._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."))),ha.createElement(q,{taxRates:this.state.taxRates,onChangeTaxRates:this._onChangeTaxRates}),ha.createElement('div',{display:'block',className:"_3-8x"},ha.createElement(w,{href:this._getMerchantSettingsURI(),target:'_blank'},gb._("View Default Shop Taxes")))));},_getInnerContent:function(){if(this.state.loading)return (ha.createElement(db,{className:"_2_i8",size:'large'}));switch(this.state.currentPage){case ob.main:return (ha.createElement('div',null,this._getTabBodies()));case ob.variant:return (ha.createElement('div',null,ha.createElement('div',{className:"_1go"},ha.createElement(v,null,ha.createElement(u,{className:"_1gp",onClick:this._backToMainPage,src:ib('/images/help/rooms/back.png')}),ha.createElement('div',{className:"_1gq"},gb._("Variants"),ha.createElement(bb,{display:'block'},gb._("Variants are the different styles\u2014such as sizes, colors or materials\u2014that a product comes in."))))),ha.createElement(y,{currencyCode:this.props.currencyCode,defaultVariantPrice:this.state.productPrice,setVariantInfo:(function(qb){return this.setState(qb);}).bind(this),variants:this.state.variants,variantItems:this.state.variantItems})));}return ha.createElement('div',null);},_backToMainPage:function(){this.setState({currentPage:ob.main});},_getVariantsButton:function(){if(!this._showSection(o.VARIANTS))return null;var qb=gb._("Variants are the different styles\u2014such as sizes, colors or materials\u2014that a product comes in.");return (ha.createElement('div',{className:"_3-8x"},ha.createElement(bb,{weight:'bold',shade:'dark',size:'small',display:'block'},gb._("Variants"),ha.createElement(t,{tooltip:qb,alignv:'bottom'})),ha.createElement(ra,{className:"_3-8w",label:gb._("Edit Variants"),onClick:(function(){return this.setState({currentPage:ob.variant});}).bind(this)})));},_getDialogFooter:function(){var qb=null;if(this.props.productID&&!this.state.loading)qb=ha.createElement(w,{onClick:this.state.saving?null:this._onDeleteProductClicked},ha.createElement(bb,{shade:'light',size:'small'},gb._("Delete Product")));var rb=this.state.saving?ha.createElement(db,{size:'small',className:"_3-90"}):null;return (ha.createElement(wa,{leftContent:qb},rb,ha.createElement(va,{disabled:this.state.saving||this.state.loading}),ha.createElement(ua,{use:'confirm',label:this._getSaveButtonText(),action:'button',disabled:this.state.saving||this.state.loading,onClick:this._onSubmitButtonClicked})));},show:function(){this.setState({currentPage:ob.main,dialogShown:true});},hide:function(){this.setState({dialogShown:false});},_onDeleteProductClicked:function(){ca.deleteProductsWithConfirmation(Array(this.props.productGroupID),this.props.pageID,(function(){this.hide();if(this.props.onProductDeleted)this.props.onProductDeleted();}).bind(this));},_getNamePriceDescriptionInputs:function(){var qb=null;if(this.props.requireDescription){qb=gb._("Description");}else qb=gb._("Description (Optional)");var rb=null;if(this.state.variants.length===0){rb=ha.createElement(r,{className:"_5rpn _3-8n",currency:this.props.currencyCode,disabled:this.state.loading||this.state.variants.length>0,onChange:(function(sb){return this.setState({productPrice:sb});}).bind(this),value:this.state.productPrice});}else rb=ha.createElement('div',{className:"_4kto _3-8n"},ha.createElement(bb,{shade:'light',size:'medium',className:"_20ab"},this.state.groupPriceRange),ha.createElement(w,{size:'small',className:"_20ac _2pii",onClick:(function(){return this.setState({currentPage:ob.variant});}).bind(this)},gb._("Edit Prices")));return (ha.createElement('div',{className:"_2pi4"},ha.createElement(eb,{name:'productTitle',className:"_2mfs",disabled:this.state.loading,value:this.state.productTitle,height:'tall',onChange:(function(event){return this.setState({productTitle:event.target.value});}).bind(this),placeholder:gb._("Name"),xuiError:this.getFieldErrorMessage(la.PRODUCT_TITLE)}),rb,ha.createElement(ab,{xuiError:this.getFieldErrorMessage(la.PRODUCT_DESCRIPTION)},ha.createElement(ja,{name:'productDescription',className:"_3jm",disabled:this.state.loading,rows:nb,value:this.state.productDesc,onChange:(function(event){return this.setState({productDesc:event.target.value});}).bind(this),placeholder:qb}))));},_getTaxCategorySelector:function(){if(!this._showSection(o.TAX_CATEGORY))return null;var qb=this.state.taxCategory||p.TAX_ITEM_CODE_COMMERCE_OTHERS;if(qb===p.TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)qb=p.TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION;return (ha.createElement(ea,{onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:qb}));},_getVisibilitySelector:function(){if(!this._showSection(o.PRODUCT_VISIBILITY))return null;return (ha.createElement('div',null,ha.createElement(bb,{className:"_3-94 _3-8y",display:'block',weight:'bold',shade:'dark',size:'small'},gb._("Visibility")),ha.createElement(ga,{onChange:(function(qb){return this.setState({productVisibility:qb});}).bind(this),value:this.state.productVisibility})));},_getInventoryInput:function(){if(!this._showSection(o.INVENTORY))return null;var qb=null;if(this.state.variants.length===0){qb=ha.createElement(x,{className:"_2pio",disabled:this.state.loading,isZeroValidValue:true,name:'productInventory',nonnegative:true,value:this.state.inventory,formatNumber:false,onValueUpdated:(function(tb){return this.setState({inventory:tb});}).bind(this)});}else{var rb=0;for(var sb in this.state.variantItems)rb+=this.state.variantItems[sb].inventory;qb=ha.createElement('div',{className:"_4kto"},ha.createElement('div',{className:"_4ktu"},ha.createElement(bb,{shade:'light',size:'medium'},rb)),ha.createElement(w,{size:'small',className:"_20ac _2pii",onClick:(function(){return this.setState({currentPage:ob.variant});}).bind(this)},gb._("Edit Inventory")));}return (ha.createElement('div',null,ha.createElement(bb,{className:"_3-94 _3-8y",display:'block',weight:'bold',shade:'dark',size:'small'},gb._("Inventory")),qb));},_getShippingOptionsSection:function(){if(!this._showSection(o.SHIPPING_OPTIONS))return null;return (ha.createElement(da,{currencyCode:this.props.currencyCode,disabled:this.state.loading,shippingOptions:this.state.shippingOptions,settingsURI:this.props.productID?undefined:this._getMerchantSettingsURI(),onShippingOptionsChange:(function(qb){return this.setState({shippingOptions:qb});}).bind(this)}));},_getShareToTimelineToggle:function(){if(this.props.productID)return null;return (ha.createElement('div',{className:"_3-8y"},ha.createElement(s,{disabled:this.state.loading,animate:true,checked:this.state.shareToTimeline,onToggle:(function(qb){return this.setState({shareToTimeline:qb});}).bind(this)}),ha.createElement('span',{className:"_3jn"},gb._("Share to Timeline"),ha.createElement(t,{tooltip:gb._("Turning this on will automatically post your product to your Page's timeline. This will only happen after your product is approved."),alignv:'bottom'}))));},_unpackTaxRates:function(){var qb=[],rb={},sb={};for(var tb in this.state.taxRates){var ub=this.state.taxRates[tb];for(var vb in ub){qb[qb.length]=vb;rb[vb]=ub[vb].tax_rate;sb[vb]=ub[vb].is_applied_to_shipping;}}return {tax_locations:qb,tax_percent_map:rb,tax_applied_to_shipping_map:sb};},_getFeaturedToggleSwitch:function(){if(!this._showSection(o.FEATURED_PRODUCT_TOGGLE))return null;return (ha.createElement('div',{className:"_3-96"},ha.createElement(s,{disabled:this.state.loading||this._isFeatureProductToggleDisabled(),animate:true,checked:this.state.featuredProduct,onToggle:(function(qb){return this.setState({featuredProduct:qb});}).bind(this)}),ha.createElement('span',{className:"_3jn"},gb._("Feature this product"),ha.createElement(t,{tooltip:this._getHelpText(),alignv:'bottom'}))));},_isFeatureProductToggleDisabled:function(){return (!this.state.featuredProduct&&this.state.featuredCount>=ba.MAX_FEATURED_ITEM_COUNT);},_getHelpText:function(){if(this._isFeatureProductToggleDisabled())return gb._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[gb.param('Maximum number of products that can be featured',ba.MAX_FEATURED_ITEM_COUNT,[0])]);return gb._({"*":"You can feature up to {Maximum number of products that can be featured} products. Featured products are shown on your page when people visit, and at the top of your shop section."},[gb.param('Maximum number of products that can be featured',ba.MAX_FEATURED_ITEM_COUNT,[0])]);},_getTitle:function(){if(this.state.currentPage===ob.variant)return gb._("Edit Variants");if(this.props.productID)return gb._("Edit Product");return gb._("Add product");},_getSaveButtonText:function(){return gb._("Save");},_onProductDetailsFetched:function(qb){var rb=qb.payload,sb=rb.visibility_notice===null?null:rb.visibility_notice.markup;this.setState({currentTabKey:'Edit',currentPage:ob.main,dialogShown:true,productTitle:rb.name,productDesc:rb.description,productPrice:rb.price/100,productVisibility:rb.visibility,photos:rb.images,featuredProduct:rb.featured_product,groupPriceRange:rb.group_price_range,inventory:rb.inventory,shippingOptions:rb.shipping_options,taxCategory:rb.tax_category,showVariants:rb.show_variants,visibilityNotice:sb,loading:false,featuredCount:rb.featured_count,taxRates:rb.tax_rates});},_onToggleDialog:function(qb){this.setState({dialogShown:qb});if(qb)return;var rb=babelHelpers._extends({source:this.props.source},{}),event=l.ACTN_CANCEL_ADD_PRODUCT;if(this.props.productID){rb.target_class='EntProdutItem';rb.target_id=this.props.productID;event=l.ACTN_CANCEL_EDIT_PRODUCT;}k.log(event,this.props.pageID,rb);},_getEditWarning:function(){if(this.props.productID&&!this.state.visibilityNotice)return (ha.createElement(cb,{size:'small',className:"_3-8y"},gb._("Your product is now visible to everyone who visits your Page. We'll review it again if you make changes.")));return null;},_handleTabChange:function(qb){this.setState({currentTabKey:qb});},_handleTaxCategoryChange:function(qb){this.setState({taxCategory:qb.value});},_onSubmitButtonClicked:function(){this.setState({saving:true});var qb=[];this.state.photos.forEach(function(ic){qb.push(ic.fbid);});var rb=this.state.shippingOptions.filter(function(ic){return ic.shipping_service&&!!ic.shipping_service.trim();});this.setState({shippingOptions:rb});var sb=[],tb=[];rb.forEach(function(ic){sb.push(ic.shipping_service);tb.push(Math.round(ic.shipping_price_value));});var ub=this._unpackTaxRates(),vb=this.state.variants,wb=vb.map(function(ic){return ic.label;}),xb=vb.map(function(ic){return ic.options;}),yb=this.state.variantItems,zb={},ac={},bc={},cc={};for(var dc in yb){var ec=yb[dc];zb[dc]=ec.inventory;ac[dc]=Math.round(ec.price*100);bc[dc]=JSON.stringify(ec.properties);cc[dc]=ec.productID;}var fc={};fc[la.PRODUCT_TITLE]=this.state.productTitle;fc[la.PRODUCT_DESCRIPTION]=this.state.productDesc;fc[la.PRODUCT_PRICE]=Math.round(this.state.productPrice*100);fc[la.CURRENCY_CODE]=this.props.currencyCode;fc[la.PRODUCT_PHOTO_IDS]=qb;fc[la.PRODUCT_ID]=this.props.productID;fc[la.FEATURED_PRODUCT]=this.state.featuredProduct;fc[la.SHARE_TO_TIMELINE]=this.state.shareToTimeline;fc[la.INVENTORY]=this.state.inventory;fc[la.SHIPPING_OPTION_NAMES]=sb;fc[la.SHIPPING_OPTION_VALUES]=tb;fc[la.TAX_CATEGORY]=this.state.taxCategory;fc[la.TAX_LOCATIONS]=ub.tax_locations;fc[la.TAX_APPLIED_TO_SHIPPING_MAP]=ub.tax_applied_to_shipping_map;fc[la.TAX_PERCENT_MAP]=ub.tax_percent_map;fc[la.VARIANT_NAMES]=wb;fc[la.VARIANT_INVENTORY]=zb;fc[la.VARIANT_PRICE]=ac;fc[la.VARIANT_DATA]=bc;fc[la.VARIANT_PRODUCT_ID]=cc;fc[la.VISIBILITY]=this.state.productVisibility;for(var gc=0;gc<xb.length;gc++)fc['variant'+gc+'_options']=xb[gc];var hc=j.create(na.getURIBuilder().getURI(),this.props.pageID);this.sendAsync(hc,fc,this._onProductUpdated,(function(){return this.setState({saving:false});}).bind(this));},_onChangeTaxRates:function(qb){this.setState({taxRates:qb});},_onProductUpdated:function(qb){this.setState({saving:false,dialogShown:false});if(this.props.productID){z.handlePostChanged(qb.payload);}else z.handlePostCreated(lb.COMMERCE_PRODUCTS,qb.payload,this.props.pageID);if(this.props.onProductChanged)this.props.onProductChanged(qb.payload);},render:function(){return ha.createElement('span',null);},_showSection:function(qb){return this.props.sections.indexOf(qb)>=0;}});f.exports=pb;},null);
__d('InstantArticleTimeSpentChart.react',['SpectrumChart','d3/scale/ordinal','SpectrumLines','SpectrumXAxis','SpectrumYAxis','SpectrumPercentageScale','React','SpectrumStyle','XUISpinner.react','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=n.PropTypes,t=n.createClass({displayName:'InstantArticleTimeSpentChart',propTypes:{data:s.object},render:function(){var u=this.props.data;if(!u)return (n.createElement('div',{className:"_1s0a"},n.createElement(p,{size:'large'})));var v=[],w=[];for(var x in u){var y=parseInt(x,10)/60+'m';if(y==='6m')y='6m+';v.push(y);w.push(u[x]);}var z=0;w.forEach(function(ca){z+=ca;});w=w.map(function(ca){return ca/z;});if(z===0)return (n.createElement('p',{className:"_cq3"},r._("There was insufficient data to render this chart.")));var aa={columns:{colors:[o.BLUE,o.BLUE]}},ba=babelHelpers._extends({},aa,{rangeBands:{outerPadding:.15,padding:.15}});return (n.createElement('div',{className:"_1s0a"},n.createElement(h,{height:120,width:680,scaleX:i().domain(v),scaleY:m(),theme:ba},n.createElement(j,{data:[w]}),n.createElement(k,null),n.createElement(l,null))));}});f.exports=t;},null);
__d('VideosCopyrightMatchActions',['GraphAPI','Promise','VideoCopyrightUtils'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();var k={getMatch:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).get({access_token:m,fields:j.getGraphAPIFields(),date_format:'U'});},getMatches:function(l,m){return h(j.GRAPH_API_VERSION).objects('video_copyright_match',l).get({access_token:m,fields:j.getGraphAPIFields(),date_format:'U'});},setMatchIsViewed:function(l,m,n){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:m,is_viewed:n});},updateMatchState:function(l,m,n){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:n,match_state:m});},addToReport:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:m,in_user_unsent_report:true});},removeFromReport:function(l,m){return h(j.GRAPH_API_VERSION).object('video_copyright_match',l).post({access_token:m,in_user_unsent_report:false});}};f.exports=k;},null);